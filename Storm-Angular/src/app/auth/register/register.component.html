<div class="register-container">
  <h2>Registration</h2>
  <form (ngSubmit)="register()" #registerForm="ngForm">
    <div class="form-group">
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" name="firstName" [(ngModel)]="user.firstName" required>
    </div>
    <div class="form-group">
      <label for="secondName">Second Name:</label>
      <input type="text" id="secondName" name="secondName" [(ngModel)]="user.secondName" required>
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" [(ngModel)]="user.email" required>
      <div *ngIf="registerForm.controls['email']?.invalid && registerForm.controls['email']?.touched"
        class="error-message">
        Please enter a valid email address
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <div class="password-input">
        <input type="{{ showPassword ? 'text' : 'password' }}" id="password" name="password"
          [(ngModel)]="user.password" required>
        <button type="button" class="password-toggle" (click)="togglePasswordVisibility()">
          <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </div>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Confirm Password:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword"
        (ngModelChange)="checkPasswordMatch()" required>
      <div *ngIf="!passwordsMatch && confirmPassword !== '' && registerForm.controls['confirmPassword']?.touched"
        class="error-message">
        Passwords do not match
      </div>
    </div>
    <button type="submit" [disabled]="!registerForm.form.valid || !passwordsMatch" class="button">Register</button>
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
  </form>
</div>